---
---

## Linear Models

The formula requires a response variable left of a `~` and any number of
predictors to its right.

| Formula      | Description                    |
| `y ~ a`      | constant and one predictor     |
| `y ~ -1 + a` | one predictor with no constant |
| `y ~ a + b`  | constant and two predictors    |

===

| `y ~ a:b`              | constant and one predictor, the interaction of a factor and another variable |
| `y ~ a*b`              | constant and three predictors                                                |
| `y ~ a*b - a`          | constant and two predictors                                                  |
| `y ~ (a + b + ... )^n` | constant and all combinations of predictors up to order `n`                  |

===

In addition, certain functions are allowed within the formula definition.

```{r lm_weight, title = '{{ site.handouts[0] }}'}
animals <- read.csv('data/animals.csv',
  na.strings = '')
fit <- lm(
  hindfoot_length ~ log(weight),
  data = animals)
```

===

```{r lm_weight_summary}
summary(fit)
```

===

## Metadata Matters

For the predictors in a linear model, there is a big difference between factors
and numbers.

```{r lm_weight_factor, title = '{{ site.handouts[0] }}'}
fit <- lm(
  log(weight) ~ species_id,
  data = animals)
```

===

```{r lm_weight_factor_summary}
summary(fit)
```

The difference between 1 and 24 degrees of freedom between the last two
models---with one fixed effect each---arises because `species_id` is a factor
while weight is a numeric vector.
{:.notes}
